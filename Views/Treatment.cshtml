@inherits Umbraco.Web.Mvc.UmbracoTemplatePage<ContentModels.Treatment>
@using ContentModels = Umbraco.Web.PublishedContentModels
@using Archetype.Models
@{
  Layout = "Master.cshtml";
  List<KeyValuePair<string, string>> accordion = null;
  if(Model.Content.HasProperty("accordion")){
    accordion = new List<KeyValuePair<string, string>>();
    ArchetypeModel faqList = Model.Content.GetPropertyValue<ArchetypeModel>("fAQList");
    foreach(ArchetypeFieldsetModel faq in faqList){
      string question = faq.GetValue<string>("question");
      string answer = faq.GetValue<string>("answer");
      accordion.Add(new KeyValuePair<string, string>(question, answer));
    }
  }           
  string heroImageUrl = "https://www.circlehealth.co.uk/media/1702/acl-reconstrution-surgery.jpg"; //default hero image
  if (Model.Content.HasValue("heroImage") == true){
    heroImageUrl = Model.Content.GetPropertyValue<IPublishedContent>("heroImage").Url;
  }
}
<div class="hero-image" style="background-image:url( @heroImageUrl )">
  <div class="dark-overlay text-center">
      <h1>@Model.Content.Name</h1>
  </div>
</div>
<div class="greyback maincontent">
  <div class="container">
    <div class="row">
      <div class="col-md-7">
          @Umbraco.Field("welcomeText", altText:"");
      </div>
      <div class="col-md-5">
        @Umbraco.RenderMacro("renderUmbracoForm", new {FormGuid="87a8b37a-b171-42a0-be1d-3b14737d8c02", FormTheme="", ExcludeScripts="0"})
      </div>
    </div>
  </div>
</div>
<div class="container">
  <div class="row">
    <div class="col">
      @Html.GetGridHtml(Model.Content, "grid")
    </div>
  </div>
</div> 
