@inherits Umbraco.Web.Mvc.UmbracoTemplatePage
@{
  Layout = "Master.cshtml";
  
  string bannerUrl = "https://www.circlehealth.co.uk/media/1702/acl-reconstrution-surgery.jpg"; //default hero image
  if (Model.Content.HasValue("bannerImage") == true){
    bannerUrl = Model.Content.GetPropertyValue<IPublishedContent>("bannerImage").Url;
  }
	
  string videoUrl = "";
  bool showVideo = false;
  if(Model.Content.GetPropertyValue<string[]>("youtubeVideos").Length > 0){
    showVideo = true;
    videoUrl = Model.Content.GetPropertyValue<string[]>("youtubeVideos")[0];
  }
  
  var treatments = Model.Content.GetPropertyValue<IEnumerable<IPublishedContent>>("listOfTreatments");
  var consultants = Model.Content.GetPropertyValue<IEnumerable<IPublishedContent>>("listOfConsultants");
}
<div class="hero-image" style="background-image:url( @bannerUrl )">
  <div class="dark-overlay text-center">
    <h1>@Model.Content.Name</h1>
  </div>
</div>
<div class="maincontent">
  <div class="container">
    <div class="row">
      <div class="col-md-8">
        @Umbraco.Field("mainContent", altText:"")
      </div>
      <div class="col">
        @Umbraco.RenderMacro("renderUmbracoForm", new {FormGuid="87a8b37a-b171-42a0-be1d-3b14737d8c02", FormTheme="", ExcludeScripts="0"})
      </div>
    </div>
  </div>
</div>
@if (showVideo){
  <div class="greyback"><br />
    <div class="container video">
      <div>
        <div>
          <iframe src=" @videoUrl " width="640" height="360" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
      </div>
    </div>
  </div>
}
<div class="greyback boxlist">
  <div  class="container">
    <div class="row">
      <div class="col">
        <p>
          @foreach (var treatment in treatments){
            <a href="@treatment.Url">@treatment.Name</a>
          }
        </p>
      </div>
    </div>
  </div>
</div>